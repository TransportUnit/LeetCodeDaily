using LeetCodeDaily.Core;
using LeetCodeDaily.Extensions;

string cases =
"""
[2,3,5,7]
[-1,1,4,3]

[11,13,31]
[9,12,15]

[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499]
[-1,1,4,3,9,12,16,17,19,28,15,36,40,41,39,52,57,60,65,67,72,71,81,88,96,100,99,105,108,112,63,129,136,137,148,147,156,161,163,172,177,180,159,192,196,195,209,207,225,228,232,231,240,249,256,259,268,263,276,280,281,292,305,307,312,316,329,336,345,348,352,355,359,372,377,319,388,396,400,408,417,420,423,432,435,441,448,456,460,455,465,463,483,489,497]

[503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997]
[499,508,520,521,540,545,556,561,568,569,576,585,592,595,600,591,612,616,617,627,640,641,643,652,657,660,672,676,681,689,700,708,711,723,732,737,739,743,756,760,768,772,785,796,808,809,820,819,825,828,835,852,856,857,847,876,880,881,883,905,903,915,928,936,940,945,952,963,969,976,979,975,996]
""";

var inputs = new List<IList<int>>();
var expectedOutputs = new List<int[]>();
var lines = cases.Split("\r\n");

for (int i = 0; i < lines.Length; i++)
{
    if (string.IsNullOrWhiteSpace(lines[i]))
        continue;

    if (i % 3 == 0)
    {
        var input = lines[i].ParseArray<int>().ToList();
        inputs.Add(input);
    }
    else if (i % 3 == 1)
    {
        var expectedOutput = lines[i].ParseArray<int>();
        expectedOutputs.Add(expectedOutput);
    }
}

Case<IList<int>, int[]> baseCase = null!;

for (int i = 0; i < inputs.Count; i++)
{
    if (baseCase is null)
    {
        baseCase = Case.CreateCase(inputs[i], expectedOutputs[i]);
    }
    else
    {
        baseCase.CreateCase(inputs[i], expectedOutputs[i]);
    }
}

baseCase?
    .DetectAndRun()
    .DetectAndRun(1)
    .DetectAndRun(2);